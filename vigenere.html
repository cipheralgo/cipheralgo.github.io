<!-- VigenÃ¨re -->


<!DOCTYPE html>
 <html lang="en">
 <head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Classical Ciphers</title>
   <!-- Include Bootstrap CSS -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
 </head>
 <body>
 
 <div class="container">
   <div class="border p-3 rounded shadow mt-2" id="vigenere_block">
     <h2>(1.) Vigenere Cipher</h2>
     <form id="vigenere_form" action="#vigenere_block">
       Plain Text: <input type="text" id="vg_text" class="form-control" placeholder="Enter a text to encrypt">
       Key: <input type="text" id="vg_key" class="form-control" placeholder="Enter a key (Must Be Characters)">
       <button id="vg_enc_btn" class="btn btn-primary mt-2" type="button" onclick="runVigenereEncrypt()">Encrypt</button>
       <button id="vg_denc_btn" class="btn btn-secondary mt-2" type="button" onclick="runVigenereDecrypt()">Decrypt</button>
     </form>
     <div class="mt-4 border p-3 rounded">
       <b>Encrypted/Decrypted Text:</b>
       <div id="vg_result" class="border rounded p-2" style="background-color: #e4e4e4; color: rgb(255, 0, 0);"></div>
     </div>
   </div>
 </div>
 
 <script type="text/javascript">
   const alphabet1 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
 
   function runVigenereEncrypt() {
     const plaintext = document.getElementById("vg_text").value.toUpperCase();
     const key = document.getElementById("vg_key").value.toUpperCase();
 
     if (plaintext.length === 0 || key.length === 0) {
       alert("Text and key fields cannot be empty!");
       return;
     }
 
     const encryptedText = vigenereEncrypt(plaintext, key);
 
     document.getElementById("vg_result").textContent ="Encrypted Text: " + encryptedText;
   }
 
   function runVigenereDecrypt() {
     const encryptedText = document.getElementById("vg_text").value.toUpperCase();
     const key = document.getElementById("vg_key").value.toUpperCase();
 
     if (encryptedText.length === 0 || key.length === 0) {
       alert("Text and key fields cannot be empty!");
       return;
     }
 
     const decryptedText = vigenereDecrypt(encryptedText, key);
 
     document.getElementById("vg_result").textContent ="Decrypted Text: " + decryptedText;
   }
 
   function vigenereEncrypt(plaintext, key) {
     let encryptedText = '';
     key = key.toUpperCase();
     let keyIndex = 0;
 
     for (let i = 0; i < plaintext.length; i++) {
       if (plaintext[i] === ' ') {
         encryptedText += ' ';
         continue;
       }
 
       const shift = alphabet.indexOf(key[keyIndex]);
       const plainIdx = alphabet.indexOf(plaintext[i]);
 
       const encryptedIdx = (plainIdx + shift) % 26;
       encryptedText += alphabet[encryptedIdx];
 
       keyIndex = (keyIndex + 1) % key.length;
     }
 
     return encryptedText;
   }
 
   function vigenereDecrypt(encryptedText, key) {
     let decryptedText = '';
     key = key.toUpperCase();
     let keyIndex = 0;
 
     for (let i = 0; i < encryptedText.length; i++) {
       if (encryptedText[i] === ' ') {
         decryptedText += ' ';
         continue;
       }
 
       const shift = alphabet.indexOf(key[keyIndex]);
       const encryptedIdx = alphabet.indexOf(encryptedText[i]);
 
       const decryptedIdx = (encryptedIdx - shift + 26) % 26;
       decryptedText += alphabet[decryptedIdx];
 
       keyIndex = (keyIndex + 1) % key.length;
     }
 
     return decryptedText;
   }
 </script>
 </body>
 </html>
